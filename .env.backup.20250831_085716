# =============================================================================
# N8N AI STARTER KIT - ENVIRONMENT TEMPLATE
# =============================================================================
# Copy this file to .env and modify values as needed
# DO NOT commit .env files to version control
# Use scripts/setup.sh to generate secure passwords automatically

# =============================================================================
# CORE SERVICES CONFIGURATION
# =============================================================================

# N8N Configuration
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=https
N8N_DOMAIN=n8n.${DOMAIN}
N8N_PERSONAL_ACCESS_TOKEN=39f3ad13869fecab1107602e4f2b225b87182fe8f512d043deb2fa564da5a79d4ef963cc794e13be
N8N_API_KEY=906692d9070d6e5ea3016164cdfc836f47714c7030e7c03c1516e5da92c28aff

# Database Configuration - PostgreSQL
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=n8n
POSTGRES_USER=n8n_user
POSTGRES_PASSWORD=U94jlYz0d4QoFEklZHTLI1ZYHgzGeVGp

# Vector Database - Qdrant
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_API_KEY=3f45ec8e56f1da40d46fd8c5714b3b5d4203f77d322710e1b321e70ac5e68795

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Grafana Configuration
GRAFANA_HOST=grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=2EamPWMvVq5M4xFevKfJ5e0A
GRAFANA_DOMAIN=grafana.${DOMAIN}

# Prometheus Configuration
PROMETHEUS_PORT=9090

# =============================================================================
# DOMAIN & TLS CONFIGURATION
# =============================================================================

# Domain Settings
DOMAIN=localhost
API_DOMAIN=api.${DOMAIN}

# TLS/ACME Configuration
ACME_EMAIL=admin@${DOMAIN}
TRAEFIK_LOG_LEVEL=INFO

# Traefik Dashboard Credentials
TRAEFIK_DASHBOARD_USER=admin
TRAEFIK_DASHBOARD_PASSWORD=change_this_traefik_password
TRAEFIK_DASHBOARD_HASHED_PASSWORD=change_this_traefik_hashed_password

# =============================================================================
# FASTAPI SERVICES CONFIGURATION  
# =============================================================================

# Web Interface Service
WEB_INTERFACE_PORT=8000
WEB_INTERFACE_WORKERS=1

# Document Processor Service
DOC_PROCESSOR_PORT=8001
DOC_PROCESSOR_WORKERS=1
DOC_PROCESSOR_MODEL=sentence-transformers/all-MiniLM-L6-v2

# ETL Processor Service
ETL_PROCESSOR_PORT=8002
ETL_PROCESSOR_WORKERS=1

# LightRAG Service
LIGHTRAG_PORT=8003
LIGHTRAG_WORKERS=1
LIGHTRAG_WORKING_DIR=/app/data/lightrag
LIGHTRAG_LLM_MODEL=gpt-4o
LIGHTRAG_EMBEDDING_MODEL=text-embedding-3-small
LIGHTRAG_MAX_TOKENS=32768
LIGHTRAG_CHUNK_SIZE=1200
LIGHTRAG_OVERLAP_SIZE=100
OPENAI_API_KEY=change_this_openai_api_key_789
OPENAI_API_BASE=

# Model Provider Configuration
USE_LOCAL_MODELS=false
MODEL_PROVIDER=openai

# =============================================================================
# OPTIONAL ANALYTICS SERVICES
# =============================================================================

# ClickHouse Configuration (analytics profile)
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=eFaAmsAIqcyLsCCq8T5oF3hC0225

# =============================================================================
# DOCKER COMPOSE CONFIGURATION
# =============================================================================

# Compose Profiles - Available: default,developer,monitoring,analytics,gpu
COMPOSE_PROFILES=default,developer,monitoring

# =============================================================================
# GPU CONFIGURATION (gpu profile)
# =============================================================================

# GPU Hardware Settings
GPU_TYPE=auto
CUDA_VISIBLE_DEVICES=0
ROCR_VISIBLE_DEVICES=0

# GPU Service Dependencies
QDRANT_ENABLED=false
QDRANT_HOST=qdrant
QDRANT_PORT=6333

# GPU Service Ports
DOC_PROCESSOR_GPU_PORT=8011
LIGHTRAG_GPU_PORT=8013
GPU_MONITOR_PORT=8014

# GPU Service Configuration
DOC_PROCESSOR_GPU_WORKERS=1
LIGHTRAG_GPU_WORKERS=1

# Local AI Models (for GPU services)
LIGHTRAG_GPU_LLM_MODEL=microsoft/DialoGPT-medium
LIGHTRAG_GPU_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
MODEL_CACHE_DIR=/app/models

# GPU Memory Management
GPU_MEMORY_FRACTION=0.8
MAX_GPU_MEMORY_MB=8192

# =============================================================================
# OLLAMA CONFIGURATION (gpu profile)
# =============================================================================

# Ollama Server Settings
OLLAMA_HOST=ollama
OLLAMA_PORT=11434
OLLAMA_BASE_URL=http://ollama:11434

# Model Management
OLLAMA_DEFAULT_MODEL=llama3.3:8b
OLLAMA_EMBEDDING_MODEL=nomic-embed-text
OLLAMA_PULL_TIMEOUT=300

# Performance Settings
OLLAMA_NUM_PARALLEL=4
OLLAMA_NUM_CTX=4096
OLLAMA_NUM_PREDICT=512
OLLAMA_TEMPERATURE=0.7
OLLAMA_TOP_K=40
OLLAMA_TOP_P=0.9

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Debug & Development
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# SUPABASE CONFIGURATION (Hybrid Approach)
# =============================================================================

# Supabase Connection Settings
# To use Supabase, uncomment and set these values:
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_KEY=your-anon-or-service-key
SUPABASE_SCHEMA=public

# Supabase AI/Analytics Tables
SUPABASE_AI_TABLE=ai_results
SUPABASE_EMBEDDINGS_TABLE=document_embeddings
SUPABASE_ANALYTICS_TABLE=ai_analytics

# To enable Supabase, add "supabase" to COMPOSE_PROFILES:
# COMPOSE_PROFILES=default,developer,monitoring,supabase
