#!/bin/bash
# =============================================================================
# –°–ö–†–ò–ü–¢ –î–õ–Ø –ù–ê–°–¢–†–û–ô–ö–ò GITHUB REPOSITORY –ò –û–¢–ü–†–ê–í–ö–ò CI/CD –ö–û–î–ê
# =============================================================================

echo "üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub repository –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CI/CD –∫–æ–Ω–≤–µ–π–µ—Ä–∞..."

# –¶–≤–µ—Ç–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞
GREEN='\033[0;32m'
BLUE='\033[0;34m'
YELLOW='\033[1;33m'
NC='\033[0m'

print_step() { echo -e "${BLUE}üìã $1${NC}"; }
print_success() { echo -e "${GREEN}‚úÖ $1${NC}"; }
print_warning() { echo -e "${YELLOW}‚ö†Ô∏è $1${NC}"; }

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
print_step "–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —Å–æ–∑–¥–∞–ª–∏ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π 'N8N-AI-Starter-Kit-Advanced'"
print_warning "–ï—Å–ª–∏ –≤—ã –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–ª–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://github.com/new"

# –ü–æ–ª—É—á–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è GitHub
read -p "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è GitHub: " GITHUB_USERNAME

if [[ -z "$GITHUB_USERNAME" ]]; then
    echo "‚ùå –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º"
    exit 1
fi

REPO_URL="https://github.com/$GITHUB_USERNAME/N8N-AI-Starter-Kit-Advanced.git"

print_step "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ remote origin..."
git remote add origin "$REPO_URL"

print_step "–ü—Ä–æ–≤–µ—Ä–∫–∞ remote –Ω–∞—Å—Ç—Ä–æ–µ–∫..."
git remote -v

print_step "–û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –≤ GitHub..."
git push -u origin main

print_success "‚ú® –ö–æ–¥ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤ GitHub!"

echo ""
print_step "üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è CI/CD:"
echo "1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/$GITHUB_USERNAME/N8N-AI-Starter-Kit-Advanced"
echo "2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É 'Actions' –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö workflow"
echo "3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Å–µ–∫—Ü–∏–∏ 'Comprehensive Testing Pipeline'"
echo ""

print_warning "–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: GitHub Actions –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞"

echo ""
print_step "üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ CI/CD –ø—Ä–æ—Ü–µ—Å—Å–∞:"
echo "‚Ä¢ Profile Validation - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø—Ä–æ—Ñ–∏–ª–µ–π"
echo "‚Ä¢ Unit Tests - –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã Python —Å–µ—Ä–≤–∏—Å–æ–≤"
echo "‚Ä¢ Integration Tests - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å –∑–∞–ø—É—Å–∫–æ–º —Å–µ—Ä–≤–∏—Å–æ–≤"
echo "‚Ä¢ Startup Tests - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π"
echo "‚Ä¢ Security Tests - –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏"
echo ""

print_success "üéâ CI/CD –∫–æ–Ω–≤–µ–π–µ—Ä –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é!"